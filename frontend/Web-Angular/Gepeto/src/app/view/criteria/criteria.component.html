
<div class="pg_criteria" style="background: #e9e9e9;">

<ul class="criteria_list" *ngIf="!inputMode && !editMode">
    <h1 style="text-align: center;">Critérios</h1>

    
        <li *ngFor="let c of criteria">   
                <div class="d-flex card-body mb-5">         
        <h5 class="card-text"> <br><b class="titulo_text"> {{ c.nameMedium }} </b>  <br> Descrição: {{ c.description }} <br> Valor:{{ c.totalValue }}
            <br>
            <button class="editar_criteria" (click)="updateFormEdit(c)"><i class="fas fa-edit"></i></button>
            <button class="remover_criteria" (click)="removeCriterion(c)"><i class="fas fa-trash"></i></button>
        </h5>
        <br><br>
   

</div>

    </li>

</ul>


<button class="add_criteria" *ngIf="!inputMode && !editMode" (click)="inputMode = true; addBigCriterion()">
    <i class="fas fa-plus"></i>
</button>

<!-- Form Insert -->
<form *ngIf="inputMode" [formGroup]="formAddCriterion">

    <div class="card_add_criteria">
        <h1 style="text-align: center; padding-bottom: 10%;">Adicione um critério</h1>
        <input class="input_txt" type="hidden" formControlName="ra"  maxlength="6" [(ngModel)]="currentUser" placeholder="Ra">
        <input class="input_txt" type="hidden" formControlName="idBig" placeholder="idBig" [(ngModel)]="idBig">
    <input class="input_txt" type="text" formControlName="nameMedium" placeholder="Nome do Critério">

    <!-- <input type="text" formControlName="description" placeholder="Descrição"> -->
    <input class="input_txt" type="number" formControlName="totalValue" placeholder="Valor Total" >
    <textarea class="txta_txt" formControlName="description" cols="33" rows="5" placeholder="Descrição" maxlength="100">
    </textarea>

    <button class="btn_validar" *ngIf="!editMode" type="submit" (click)="addCriteria(formAddCriterion)" [disabled]="!formAddCriterion.valid">
        Salvar
    </button>
    </div>
    <!-- <button *ngIf="editMode" type="submit" (click)="updateCriterion(formAddCriterion)" [disabled]="!formAddCriterion.valid">
        Salvar
    </button>  -->
    <div class="btn_flutuante">
    <button class="btn_voltar" (click)="inputMode=false; editMode = false">
        <i class="fas fa-reply"></i>
    </button>
    </div>
</form>


<!-- Form Edit -->
<form *ngIf="editMode" [formGroup]="formEditCriterion">
    <input type="hidden" formControlName="idMedium" placeholder="idMedium">

    <div class="card_add_criteria">
        <h1 style="text-align: center; padding-bottom: 10%;">Edite um critério</h1>
    <input class="input_add" type="text" formControlName="nameMedium" placeholder="Nome do Critério">
    <input class="input_add" type="number" formControlName="totalValue" placeholder="Valor Total">
    <textarea class="txta_add"  formControlName="description" cols="33" rows="5" placeholder="Descrição" maxlength="100">
    </textarea>
    <button class= "btn_validar" type="submit" (click)="updateCriterion(formEditCriterion)" [disabled]="!formEditCriterion.valid">
        Salvar
    </button> 
</div> 
<div class="btn_flutuante">
    <button class="btn_voltar" (click)="inputMode=false; editMode = false">
        <i class="fas fa-reply"></i>
    </button>
</div>

</form>

<div class="btn_flutuante">
<button class="btn_voltar" *ngIf="!inputMode && !editMode" routerLink="">
    <i class="fas fa-reply"></i>
</button>
</div>

</div>


<link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.0/css/bootstrap.min.css"
integrity="sha384-9aIt2nRpC12Uk9gS9baDl411NQApFmC26EwAOH8WgZl5MYYxFfc+NcPb1dKGj7Sk" crossorigin="anonymous">

<!--Link-->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.14.0/css/all.min.css">
<!--font awesome-->